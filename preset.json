{
  "name": "BassPulse",
  "version": 1,
  "author": "ChatGPT",
  "description": "Ein pulsierender Kreis basierend auf Bass-Level.",

  "resolution": [64, 128],

  "parameters": {
    "hue_speed": 0.3,
    "radius_scale": 25
  },

  "script": "
    local hue = 0
    local hue_speed = 0
    local radius_scale = 1

    function init(params)
      hue_speed = params.hue_speed
      radius_scale = params.radius_scale
    end

    function update(audio, t)
      hue = hue + hue_speed
      local radius = audio.bass * radius_scale

      for x=0,63 do
        for y=0,127 do
          local dx = x - 32
          local dy = y - 64
          local dist = math.sqrt(dx*dx + dy*dy)

          if math.abs(dist - radius) < 1.3 then
            drawPixelHSV(x, y, hue % 360, 1, 1)
          end
        end
      end
    end
  "
}
