-- Auto-generated sprite data
-- Source: m9v_64.png

-- Draw sprite at position (x, y)
-- Set skip_zero=true to treat palette index 0 as transparent
local function drawSprite(sprite, palette, x, y, skip_zero)
    for row_idx, row in ipairs(sprite) do
        for col_idx, color_idx in ipairs(row) do
            if not skip_zero or color_idx ~= 0 then
                local color = palette[color_idx + 1]  -- Lua is 1-indexed
                if color then
                    local px = x + col_idx - 1
                    local py = y + row_idx - 1
                    if px >= 0 and px < WIDTH and py >= 0 and py < HEIGHT then
                        setPixel(px, py, color[1], color[2], color[3])
                    end
                end
            end
        end
    end
end

-- Draw sprite scaled by factor
local function drawSpriteScaled(sprite, palette, x, y, scale, skip_zero)
    for row_idx, row in ipairs(sprite) do
        for col_idx, color_idx in ipairs(row) do
            if not skip_zero or color_idx ~= 0 then
                local color = palette[color_idx + 1]
                if color then
                    for sy = 0, scale - 1 do
                        for sx = 0, scale - 1 do
                            local px = x + (col_idx - 1) * scale + sx
                            local py = y + (row_idx - 1) * scale + sy
                            if px >= 0 and px < WIDTH and py >= 0 and py < HEIGHT then
                                setPixel(px, py, color[1], color[2], color[3])
                            end
                        end
                    end
                end
            end
        end
    end
end


local m9v_64_palette = {
    {  0,   0,   0}, -- transparent
    {243, 244, 245},
    {243, 244, 244},
    {242, 243, 244},
    {105,  99,  47},
    {104,  99,  47},
    {105, 100,  48},
    {255, 228, 184},
    {243, 244, 246},
    {243, 243, 244},
    {242, 244, 245},
    {105, 100,  47},
    {255, 227, 183},
    {241, 242, 243},
    { 56,  38,  20},
    {240, 196, 144},
    {242, 243, 245},
    {105,  99,  48},
    {242, 244, 244},
    {223, 160,  90},
    {241, 242, 244},
    {255, 228, 183},
    {223, 161,  90},
    { 55,  38,  20},
    {242, 242, 243},
    {224, 161,  90},
    { 56,  38,  21},
    {222, 160,  89},
    {223, 160,  89},
    {242, 242, 244},
    {104,  98,  47},
    {143, 142, 142},
    {  0,   0,   0},
    {224, 161,  91},
    {142, 142, 142},
    { 56,  39,  21},
    {255, 227, 184},
    {240, 195, 143},
    {253, 222, 186},
    {251, 221, 185},
    {237, 237, 237},
    {255, 227, 182},
    {240, 196, 143},
    {240, 197, 144},
    {166, 122,  76},
    {165, 122,  76},
    {252, 221, 186},
    {227, 189, 144},
    {228, 189, 144},
    {143, 143, 142},
    {143, 143, 143},
    { 57,  39,  21},
    {255, 229, 184},
    {  0,   1,   1},
    {224, 162,  91},
    {241, 196, 145},
    {222, 160,  90},
    {240, 196, 145},
    {249, 248, 238},
    {250, 249, 239},
    {165, 121,  75},
    {241, 196, 144},
    {236, 236, 236},
    { 81,  82,  82},
    { 82,  82,  81},
    {237, 236, 236},
    {223, 161,  91},
    {253, 221, 185},
    {228, 190, 145},
    {227, 188, 143},
    {252, 222, 186},
    {224, 160,  90},
    {104,  98,  46},
    {144, 143, 143},
}

local m9v_64_width = 18
local m9v_64_height = 64

local m9v_64 = {
    { 0, 0, 0, 0, 0, 0, 0,23,14,14,23, 0, 0, 0, 0, 0, 0, 0},
    { 0, 0, 0, 0, 0,35,14,26,14,14,14,23,26, 0, 0, 0, 0, 0},
    { 0, 0, 0, 0,32,35,14,23,23,14,14,23,23,32, 0, 0, 0, 0},
    { 0, 0, 0,32,14,14, 7, 7, 7,21, 7, 7,15,14,14, 0, 0, 0},
    { 0, 0, 0,14,26,21, 7,12,21, 7,12,12,21,14,26, 0, 0, 0},
    { 0, 0, 0,23, 7, 7, 7,12,12, 7, 7,21, 7, 7,51, 0, 0, 0},
    { 0, 0, 0,35, 7, 7,21, 7, 7, 7, 7, 7, 7, 7,26, 0, 0, 0},
    { 0, 0,22,12,21,52,22,25,19,19,19,27,15,12,36,22, 0, 0},
    { 0, 0,19, 7,22,12,53,40,28,22,40,32, 7,19, 7,54, 0, 0},
    { 0, 0,33, 7,19,21,15,55,19,19,15,15,15,25,36,22, 0, 0},
    { 0, 0, 0,27, 7,12, 7, 7, 7,41, 7, 7,15, 7,56, 0, 0, 0},
    { 0, 0, 0, 0,25,57,58, 7,15,15, 7,59,36,22, 0, 0, 0, 0},
    { 0, 0, 0, 0,25,15,12,12, 7, 7,41, 7, 7,22, 0, 0, 0, 0},
    { 0, 0, 0, 0,25,37, 7,42,22,19,37,12,21,33, 0, 0, 0, 0},
    { 0, 0, 0, 0, 0,28,15,21,12, 7,12,15,43, 0, 0, 0, 0, 0},
    { 0, 0, 0, 0, 0, 0,44,12,12, 7,21,60,45, 0, 0, 0, 0, 0},
    { 0, 0, 0, 0, 0, 0,37,33,44,45,19,61,15, 0, 0, 0, 0, 0},
    { 0, 0, 5, 5, 5, 5, 5,15,43,42,15, 6, 5, 5, 5, 5, 5, 0},
    { 0, 6,16, 8, 1,24, 8, 4, 5,11,11, 5,13,16, 1, 1, 5, 0},
    { 4, 2, 2, 3, 8, 3, 9, 8, 2, 9, 1,13, 2, 1, 1,10, 3, 4},
    { 5, 3, 3, 2, 8, 2, 3, 9, 1, 2, 8,24,10, 1, 1, 8, 2, 6},
    { 5,24,13, 2, 1, 1, 1, 8, 1, 3, 9, 2, 8,13, 3,18, 3, 4},
    { 5, 2, 8, 6, 1,24, 2, 1, 9,29, 2, 1, 3, 2, 4, 9,10, 5},
    { 4, 9, 2, 6,13, 3, 3,10, 8, 3, 3,10,20, 2, 4, 3, 2, 4},
    { 5, 1,10, 5, 3, 8,16, 1, 1, 1,10,29, 9, 3, 5, 3,18, 5},
    { 4, 1, 9,17, 2, 8,16, 2, 9, 2, 8, 2, 3, 1, 4, 2,18,11},
    { 6, 1, 3, 5, 3,18, 1, 1,18,18, 3, 2, 3, 1, 6, 3, 2, 5},
    { 6, 3,20, 4, 3, 1, 1, 8, 2, 3, 1, 2,20, 1, 4, 3,10, 4},
    { 4, 1, 8, 5, 3, 2, 3, 1, 8, 1,10,18, 3, 2, 6, 3, 1, 5},
    { 4,16, 9, 6, 9, 3, 1,13, 8, 2, 3, 3,20, 1, 4,13, 1, 6},
    { 4,29,10, 4, 1, 2,16, 3, 2, 9, 1,16, 3, 1, 6, 1, 2, 4},
    { 5, 1, 3, 5,13, 9, 3, 2, 1, 8, 2, 3, 1, 1, 5,10, 3, 6},
    { 4, 1, 1, 5, 1,18,16, 9, 3, 3, 8, 3, 1, 9, 5, 2, 3, 5},
    { 5, 2, 1, 6, 8, 2, 9,13, 2, 2, 3, 2, 3, 1, 4, 1, 2, 4},
    {17, 2, 1,30, 3, 3,20, 2, 3, 3, 1, 1, 3, 2, 5, 1, 1,30},
    { 5,13, 2,30, 1, 2, 1, 1, 1, 1, 2,16, 1, 9, 4, 9,24, 5},
    { 5, 1, 1, 4, 2, 2, 1, 3, 3, 3, 2,20,16, 3, 4, 9,24, 5},
    { 6,62,63,17, 6, 2, 9, 2, 2, 9,18, 8, 1, 1,30,64,65, 4},
    {66,46,46,28, 4, 1, 1,10, 2, 9, 2, 8, 1, 1,27,38,38,25},
    {27,47,67,47, 6, 6, 5, 4, 4, 5, 6,11, 6, 6,68,38,48,19},
    {19,39,39,48, 2, 2,24, 1, 2,13, 1, 8,20, 2,69,70,39,22},
    { 0,27,22,71, 2, 2, 3, 8, 8, 1, 1, 9,10, 1,28,33,28, 0},
    { 0, 0, 0, 5, 1, 1, 3, 1,13, 9, 2,16,20, 1, 4, 0, 0, 0},
    { 0, 0, 0, 6, 3, 1, 3, 1, 4, 4, 1,16, 1, 1, 5, 0, 0, 0},
    { 0, 0, 0, 6, 2, 9, 3, 2, 4, 4, 2, 3, 2,18, 6, 0, 0, 0},
    { 0, 0, 0,11, 3, 1, 8,16, 6, 5, 3, 8, 3, 2, 6, 0, 0, 0},
    { 0, 0, 0, 6, 2, 1,29, 1,17, 5, 2, 1,20, 3, 4, 0, 0, 0},
    { 0, 0, 0, 4, 2, 2, 3, 1, 4,17, 1, 1,18, 2, 6, 0, 0, 0},
    { 0, 0, 0, 4, 3, 1, 9, 3, 5, 5, 1, 1, 2, 1,11, 0, 0, 0},
    { 0, 0, 0, 4, 3, 1, 2, 8, 4, 4, 3,18,13, 1, 5, 0, 0, 0},
    { 0, 0, 0,17, 1, 8, 1,18, 5, 5, 1, 1, 3, 2, 6, 0, 0, 0},
    { 0, 0, 0, 5, 8, 1, 1, 2,11, 4, 1, 1, 8, 9, 6, 0, 0, 0},
    { 0, 0, 0, 6, 2, 2, 8, 9, 5, 4, 1,13, 2, 1, 5, 0, 0, 0},
    { 0, 0, 0, 5, 9, 2, 8, 2, 4, 6, 1, 1,10,10,30, 0, 0, 0},
    { 0, 0, 0, 5, 9, 1,16, 1, 4,17,13, 1,20,10, 5, 0, 0, 0},
    { 0, 0, 0,11,10, 3, 3, 3, 5, 6, 8, 1, 2, 3, 4, 0, 0, 0},
    { 0, 0, 0, 4,29, 1, 1, 2,11, 4, 1, 2, 1, 1, 5, 0, 0, 0},
    { 0, 0, 0,17,24, 3,13,20, 4,11, 3, 1,20, 3, 4, 0, 0, 0},
    { 0, 0, 0,11,10, 1,10, 1, 4, 6, 1,16,10, 3, 4, 0, 0, 0},
    { 0, 0,11,11, 4, 6, 4, 4, 4, 5, 4, 6, 4,11, 5, 6, 0, 0},
    { 0, 0, 4, 5,17, 6, 6,17, 5,17, 5, 5, 6, 6, 4, 5, 0, 0},
    { 0, 6,11, 4,17, 6, 5,11, 4, 5, 4, 5,11, 6,17, 5,17, 0},
    { 6, 4,72, 4, 4, 4,31, 0, 0, 0, 0,49,34, 6, 4, 6, 6, 6},
    {34,31,34,73,34,31, 0, 0, 0, 0, 0, 0, 0,31,49,50,31,50},
}



return {
    palette = m9v_64_palette,
    sprite = m9v_64,
    drawSprite = drawSprite,
    drawSpriteScaled = drawSpriteScaled
}
